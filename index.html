<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Dungeon Dodge Arena</title>
<style>
body{
margin:0;
background:#0c0f14;
display:flex;
flex-direction:column;
align-items:center;
font-family:Arial;
color:white;
}
canvas{
background:#151a22;
border:2px solid #ff4444;
box-shadow:0 0 20px #ff4444;
}
.info{
margin:10px;
display:flex;
gap:20px;
}
</style>
</head>
<body>

<h2>ðŸ—¡ Dungeon Dodge Arena</h2>
<div class="info">
<div>HP: <span id="hp">3</span></div>
<div>Wave: <span id="wave">1</span></div>
<div>Score: <span id="score">0</span></div>
</div>

<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let keys = {};
let player = {
x:300,y:200,
r:12,
speed:3,
hp:3,
dashCooldown:0,
invincible:0
};

let enemies = [];
let wave = 1;
let score = 0;
let spawnTimer = 0;
let gameOver = false;

document.addEventListener("keydown",e=>{
keys[e.key]=true;
});
document.addEventListener("keyup",e=>{
keys[e.key]=false;
});

function spawnEnemy(){
let type = Math.random();
let speed = 1.2 + wave*0.1;
let size = 12;

if(type<0.3) speed*=1.8;        // hÄ±zlÄ±
if(type>0.7) size=20;          // tank

let side = Math.floor(Math.random()*4);
let x,y;

if(side===0){x=0;y=Math.random()*400;}
if(side===1){x=600;y=Math.random()*400;}
if(side===2){x=Math.random()*600;y=0;}
if(side===3){x=Math.random()*600;y=400;}

enemies.push({x,y,r:size,speed});
}

function update(){

if(gameOver) return;

if(keys["ArrowUp"]) player.y-=player.speed;
if(keys["ArrowDown"]) player.y+=player.speed;
if(keys["ArrowLeft"]) player.x-=player.speed;
if(keys["ArrowRight"]) player.x+=player.speed;

// DASH
if(keys["Shift"] && player.dashCooldown<=0){
player.speed=8;
player.dashCooldown=60;
player.invincible=30;
}else{
player.speed=3;
}

if(player.dashCooldown>0) player.dashCooldown--;
if(player.invincible>0) player.invincible--;

// ENEMY MOVE
enemies.forEach((e,i)=>{
let dx = player.x - e.x;
let dy = player.y - e.y;
let dist = Math.hypot(dx,dy);
e.x += dx/dist * e.speed;
e.y += dy/dist * e.speed;

if(dist < e.r + player.r){
if(player.invincible<=0){
player.hp--;
player.invincible=40;
if(player.hp<=0){
gameOver=true;
}
}
}
});

// SPAWN
spawnTimer++;
if(spawnTimer > 60 - wave*2){
spawnEnemy();
spawnTimer=0;
}

// WAVE ARTIÅž
if(score > wave*50){
wave++;
}

// SCORE
score++;
}

function draw(){
ctx.fillStyle="#151a22";
ctx.fillRect(0,0,600,400);

// Player
ctx.beginPath();
ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
ctx.fillStyle=player.invincible>0 ? "#00ffff" : "#00ff88";
ctx.fill();

// Enemies
ctx.fillStyle="#ff4444";
enemies.forEach(e=>{
ctx.beginPath();
ctx.arc(e.x,e.y,e.r,0,Math.PI*2);
ctx.fill();
});

if(gameOver){
ctx.fillStyle="white";
ctx.font="40px Arial";
ctx.fillText("GAME OVER",200,200);
}

document.getElementById("hp").innerText=player.hp;
document.getElementById("wave").innerText=wave;
document.getElementById("score").innerText=score;
}

function loop(){
update();
draw();
requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
>
